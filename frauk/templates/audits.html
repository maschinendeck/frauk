{% from "bootstrap/pagination.html" import render_pagination %}
{% extends "layout.html" %}
{% block title %}Audits{% endblock %}
{% block content %}
    <div class="container">
        <div class="pagination">
            {{render_pagination(query)}}
        </div>
        <table class="table table-striped table-bordered">
            <tr>
                <th> Time </th>
                <th> Difference </th>
                <th> Drink </th>
                <th> User </th>
            </tr>
            {% for audit in query.items %}
            <tr>
                <td> {{ audit.created_at.strftime("%d.%m.%y - %H:%M") }} </td>
                <td> {{ '{0:0.2f}'.format(audit.difference) }} </td>
                <td>
                    <span 
                        style="color:{{ audit.drink.color }};"
                        class="glyphicon glyphicon-glass"
                        aria-hidden="true">
                    </span>
                    {{ audit.drink.name }}
                </td>
                <td>
                    <span 
                        style="color:{{ audit.user.color }};"
                        class="glyphicon glyphicon-user"
                        aria-hidden="true">
                    </span>
                    {% if audit.user.username %}
                    {{ audit.user.username }}
                    {% else %}
                    Anonymous
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}


